
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://comp423-26s.github.io/resources/backend-architecture/2-testing/">
      
      
        <link rel="prev" href="../1-dependency-injection/">
      
      
        <link rel="next" href="../3-ci-cd/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.2">
    
    
      
        <title>2. Introduction to Testing - COMP423 - Spring 2026</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#2-introduction-to-testing" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="COMP423 - Spring 2026" class="md-header__button md-logo" aria-label="COMP423 - Spring 2026" data-md-component="logo">
      
  <img src="../../../assets/images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            COMP423 - Spring 2026
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              2. Introduction to Testing
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/comp423-26s/comp423-26s.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    comp423-26s/comp423-26s.github.io
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../threads/course" class="md-tabs__link">
        
  
  
    
  
  Course

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../threads/career" class="md-tabs__link">
        
  
  
    
  
  Career

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../threads/teamwork" class="md-tabs__link">
        
  
  
    
  
  Collaboration

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../threads/design" class="md-tabs__link">
        
  
  
    
  
  Design Process

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../threads/system" class="md-tabs__link">
        
  
  
    
  
  System Design

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../threads/sde" class="md-tabs__link">
        
  
  
    
  
  Software Engineering

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../threads/tools" class="md-tabs__link">
        
  
  
    
  
  Tool Bench

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../people/team/" class="md-tabs__link">
          
  
  
    
  
  Teaching Team

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="COMP423 - Spring 2026" class="md-nav__button md-logo" aria-label="COMP423 - Spring 2026" data-md-component="logo">
      
  <img src="../../../assets/images/logo.png" alt="logo">

    </a>
    COMP423 - Spring 2026
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/comp423-26s/comp423-26s.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    comp423-26s/comp423-26s.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../threads/course" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Course
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../threads/career" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Career
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../threads/teamwork" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Collaboration
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../threads/design" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Design Process
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../threads/system" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    System Design
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../threads/sde" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Software Engineering
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../threads/tools" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tool Bench
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Teaching Team
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Teaching Team
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../people/team/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Teaching Team
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2" >
        
          
          <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Bios
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Bios
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../people/bios/alext_about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Alex Tang
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../people/bios/brakower_about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Benny Rakower
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../people/bios/chtsui_about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Charlotte Tsui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../people/bios/escoats_about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lizzie Coats
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../people/bios/hamzahyous_about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hamzah Yousuf
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../people/bios/jadek_about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Jade Keegan
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../people/bios/juliag_about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Julia Guzzo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../people/bios/kamalv_about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kamal Vasireddy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../people/bios/kgbro_about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Katie Brown
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../people/bios/krisj_about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kris Jordan
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../people/bios/lucykgood_about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lucy Good
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../people/bios/mfouly_about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Muhammad Fouly
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../people/bios/natamm_about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Natalie Ammerman
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-is-testing-important" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why is Testing Important?
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#types-of-software-tests" class="md-nav__link">
    <span class="md-ellipsis">
      
        Types of Software Tests
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Types of Software Tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-importance-of-intentional-testing" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Importance of Intentional Testing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-types-of-tests" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Types of Tests
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#making-testing-trade-offs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Making Testing Trade-offs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-testing-a-fastapi-backend" class="md-nav__link">
    <span class="md-ellipsis">
      
        Integration Testing a FastAPI Backend
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Integration Testing a FastAPI Backend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding-pytest" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding pytest
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#basic-fastapi-integration-test-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic FastAPI Integration Test Setup
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unit-testing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Unit Testing
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Unit Testing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unit-testing-the-game-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        Unit Testing the Game Service
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Unit Testing the Game Service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding-patchobject" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding patch.object
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit-testing-route-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Unit Testing Route Functions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Unit Testing Route Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding-magicmock" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding MagicMock
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#different-approaches-for-different-needs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Different Approaches for Different Needs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-limitations-of-tests" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Limitations of Tests
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-driven-development-and-practical-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Test-Driven Development and Practical Strategies
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-economics-and-culture-of-testing" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Economics and Culture of Testing
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="2-introduction-to-testing">2. Introduction to Testing</h1>
<h2 id="why-is-testing-important">Why is Testing Important?</h2>
<p>Software can be fragile. One small change can break something else without warning. Testing brings stability and trust. It confirms that your code works as expected, your bug fixes stick, and that new features don’t undo old ones. There are many reasons for testing software, but some of the top reasons for testing are:</p>
<ul>
<li><strong>Acceptance and Verification</strong>: Tests show that your software meets user needs and business goals. You can point to a test and say, “Yes, this works as intended.”</li>
<li><strong>Regression Prevention</strong>: With automated tests, you’ll know if new code breaks existing functionality. This saves you from introducing the same bug again and again. When you fix a bug, writing a test locks in the fix. If that bug ever shows up again, the test fails and alerts you.</li>
<li><strong>Confidence in Code Changes</strong>: With good test coverage, refactoring or adding new features feels safer. You don’t have to worry as much about sneaky breakage.</li>
</ul>
<p>A great test suite isn’t just about catching bugs—it transforms the way you write code. When you have fast, reliable tests, you can experiment freely, refactor fearlessly, and build new features with confidence. Instead of worrying about whether a change might break something unexpected, you get immediate feedback. Green tests? You’re good to go. Red tests? You know exactly where to look. This is especially valuable in a team setting where you might not have written the original code or its tests. With a strong test suite, you don’t have to rely on gut instinct or deep dives into unfamiliar code; the tests will tell you if your changes introduce problems.</p>
<p>Good tests also reinforce clean abstraction layers. When a module or API has solid test coverage, you can trust its interface without constantly checking its implementation. This means you can operate at a higher level, focusing on solving the problem at hand rather than getting bogged down in lower-level details. It’s a massive boost to developer productivity and experience—when the foundational layers are proven to work well with testing, and they "just work" in practice, you can build on top of them with confidence.</p>
<h2 id="types-of-software-tests">Types of Software Tests</h2>
<p>Not all tests are created equal, and choosing the right type of test for a given scenario is crucial. A well-balanced test suite includes different types of tests, each serving a specific purpose. Understanding their strengths, limitations, and trade-offs allows you to write <strong>intentional tests</strong>—tests that prove something meaningful and valuable about your codebase.</p>
<h3 id="the-importance-of-intentional-testing">The Importance of Intentional Testing</h3>
<p>Testing isn't just about writing tests for the sake of it; it's about <strong>proving that your code behaves correctly under the conditions that matter most</strong>. Before writing a test, ask yourself:</p>
<ul>
<li><strong>What am I trying to prove?</strong><br />
  Are you checking that a function returns the right output? That two components communicate correctly? That your system handles heavy load?  </li>
<li><strong>Why is this test valuable?</strong><br />
  Does it provide meaningful feedback? Will it catch real-world issues?  </li>
<li><strong>Where should I set the test’s boundaries?</strong><br />
  Should I isolate a single function, or does the value come from testing multiple pieces together?  </li>
</ul>
<p>When you’re intentional about testing, you avoid redundant or low-value tests and focus on what truly increases confidence in your software.</p>
<h3 id="common-types-of-tests">Common Types of Tests</h3>
<p>Each type of test provides different insights into your software. Here’s a breakdown of the most common ones:</p>
<ul>
<li>
<p><strong>Unit Tests</strong> Unit tests focus on individual functions or methods in isolation. They are fast, reliable, and help confirm that small pieces of logic work correctly. <strong>If a unit test fails, you know exactly where the problem is.</strong>  </p>
<ul>
<li><strong>Strengths:</strong> Quick to run, easy to debug, useful for pinpointing issues in logic.  </li>
<li><strong>Limitations:</strong> They only test small pieces of the system and don’t guarantee that components work well together.  </li>
<li><strong>Best for:</strong> Business logic, calculations, pure functions, and methods with clear inputs and outputs.  </li>
</ul>
</li>
<li>
<p><strong>Integration Tests</strong> These verify that multiple parts of the system work together as expected. An integration test might check how your API interacts with a service, or how a service interacts with a database, or, generally whether two or more units of code coordinate correctly.  </p>
<ul>
<li><strong>Strengths:</strong> Helps catch real-world interaction issues that unit tests miss.  </li>
<li><strong>Limitations:</strong> If integration test includes external systems, they are slower than unit tests. Failures can be harder to diagnose since scope is inclusive of many parts of the system.  </li>
<li><strong>Best for:</strong> Dependencies between services, database interactions, API calls, authentication flows, and so on.  </li>
</ul>
</li>
<li>
<p><strong>End-to-End (E2E) Tests</strong> E2E tests simulate a user’s experience through the entire system, from frontend clicks to backend responses and database updates. These tests confirm that <strong>everything works together in a real-world scenario</strong>.  </p>
<ul>
<li><strong>Strengths:</strong> Provides high confidence that the entire system functions correctly.  </li>
<li><strong>Limitations:</strong> Slow, complex to set up, and brittle—small UI changes can break them.  </li>
<li><strong>Best for:</strong> Critical user flows, such as signups, payments, and login/logout sequences.  </li>
</ul>
</li>
<li>
<p><strong>Performance Tests / Profiling</strong> Performance tests, often technically referred to as <strong>profiling</strong>, measure <strong>how fast</strong> the system responds and how efficiently it handles requests. These tests help ensure that the software remains performant under normal and peak conditions.  </p>
<ul>
<li><strong>Strengths:</strong> Helps detect slow response times, memory leaks, and bottlenecks.  </li>
<li><strong>Limitations:</strong> Requires specialized tools and environments to get accurate results.  </li>
<li><strong>Best for:</strong> Response time benchmarks, caching strategies, and database query optimization.  </li>
</ul>
</li>
<li>
<p><strong>Load Tests</strong> A type of performance test that determines how well the system handles high levels of traffic. Load tests simulate many users interacting with the system simultaneously to expose potential crashes, slowdowns, race conditions and more.  </p>
<ul>
<li><strong>Strengths:</strong> Helps anticipate scaling issues before they impact real users.  </li>
<li><strong>Limitations:</strong> Can be expensive and time-consuming to run effectively.  </li>
<li><strong>Best for:</strong> Large-scale web applications, APIs, and cloud services.  </li>
</ul>
</li>
<li>
<p><strong>Security Tests</strong> Security tests probe the system for vulnerabilities like SQL injection, cross-site scripting (XSS), and authentication flaws.  </p>
<ul>
<li><strong>Strengths:</strong> Helps identify potential security risks before attackers do.  </li>
<li><strong>Limitations:</strong> Often requires specialized security expertise and tools.  </li>
<li><strong>Best for:</strong> Web applications, authentication systems, and applications that handle sensitive data.</li>
</ul>
</li>
</ul>
<h3 id="making-testing-trade-offs">Making Testing Trade-offs</h3>
<p>There’s no one-size-fits-all approach to testing. Each type has trade-offs: unit tests are fast but limited in scope, while E2E tests are comprehensive but slow. Writing <strong>too many of the wrong kinds of tests</strong> can be as bad as writing none at all.</p>
<p>In this tutorial, we focus on <strong>unit and integration tests</strong> because they provide a strong balance of speed, reliability, and practical value. They help you validate business logic and confirm that your system components interact correctly without the overhead of full E2E testing.</p>
<p>The key takeaway? <strong>Test intentionally.</strong> Every test you write should prove something important about your software.</p>
<h2 id="integration-testing-a-fastapi-backend">Integration Testing a FastAPI Backend</h2>
<p>Integration tests verify that different parts of your system work together correctly. For our FastAPI application, this means testing the complete request flow: from HTTP request handling through routing, dependency injection, and down to service implementation.</p>
<h3 id="understanding-pytest">Understanding <code>pytest</code></h3>
<p>Before diving into FastAPI testing, let's understand pytest - Python's premier testing framework. pytest uses simple conventions to discover and run tests:</p>
<ul>
<li>Test files must be named <code>test_*.py</code> or <code>*_test.py</code></li>
<li>Test functions must start with <code>test_</code></li>
</ul>
<p>The <code>pytest</code> module is installed standard on Microsoft's Dev Container, but it's just <code>pip</code> package you can install and add to <code>requirements.txt</code>, on systems that do not bundle it. You can run <code>pytest</code> from the terminal in several ways:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><span class="c1"># Run all tests in current directory and subdirectories</span>
</span><span id="__span-0-2">pytest
</span><span id="__span-0-3">
</span><span id="__span-0-4"><span class="c1"># Run tests with detailed output</span>
</span><span id="__span-0-5">pytest<span class="w"> </span>-v
</span><span id="__span-0-6">
</span><span id="__span-0-7"><span class="c1"># Run tests in a specific file</span>
</span><span id="__span-0-8">pytest<span class="w"> </span>test_main.py
</span><span id="__span-0-9">
</span><span id="__span-0-10"><span class="c1"># Run a specific test</span>
</span><span id="__span-0-11">pytest<span class="w"> </span>test_main.py::test_play_route
</span></code></pre></div>
<h3 id="basic-fastapi-integration-test-setup">Basic FastAPI Integration Test Setup</h3>
<p>Let's start with a basic integration test for our Rock, Paper, Scissors game. Create a file named <code>test_main.py</code>:</p>
<div class="language-python highlight"><span class="filename">test_main.py</span><pre><span></span><code><span id="__span-1-1"><span class="kn">from</span><span class="w"> </span><span class="nn">fastapi.testclient</span><span class="w"> </span><span class="kn">import</span> <span class="n">TestClient</span>
</span><span id="__span-1-2"><span class="kn">from</span><span class="w"> </span><span class="nn">main</span><span class="w"> </span><span class="kn">import</span> <span class="n">app</span>
</span><span id="__span-1-3">
</span><span id="__span-1-4"><span class="n">client</span> <span class="o">=</span> <span class="n">TestClient</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</span><span id="__span-1-5">
</span><span id="__span-1-6"><span class="k">def</span><span class="w"> </span><span class="nf">test_play_route_integration</span><span class="p">():</span>
</span><span id="__span-1-7"><span class="w">    </span><span class="sd">&quot;&quot;&quot;Test that the /play endpoint handles basic gameplay correctly.&quot;&quot;&quot;</span>
</span><span id="__span-1-8">    <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/play&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;user_choice&quot;</span><span class="p">:</span> <span class="s2">&quot;rock&quot;</span><span class="p">})</span>
</span><span id="__span-1-9">
</span><span id="__span-1-10">    <span class="c1"># Verify HTTP-level details</span>
</span><span id="__span-1-11">    <span class="k">assert</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span>
</span><span id="__span-1-12">    <span class="k">assert</span> <span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s2">&quot;content-type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;application/json&quot;</span>
</span><span id="__span-1-13">
</span><span id="__span-1-14">    <span class="c1"># Verify response structure</span>
</span><span id="__span-1-15">    <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</span><span id="__span-1-16">    <span class="k">assert</span> <span class="s2">&quot;user_choice&quot;</span> <span class="ow">in</span> <span class="n">data</span>
</span><span id="__span-1-17">    <span class="k">assert</span> <span class="s2">&quot;api_choice&quot;</span> <span class="ow">in</span> <span class="n">data</span>
</span><span id="__span-1-18">    <span class="k">assert</span> <span class="s2">&quot;user_wins&quot;</span> <span class="ow">in</span> <span class="n">data</span>
</span><span id="__span-1-19">    <span class="k">assert</span> <span class="s2">&quot;timestamp&quot;</span> <span class="ow">in</span> <span class="n">data</span>
</span><span id="__span-1-20">
</span><span id="__span-1-21">    <span class="c1"># Verify data types and constraints</span>
</span><span id="__span-1-22">    <span class="k">assert</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;user_choice&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;rock&quot;</span>  <span class="c1"># Our input is preserved</span>
</span><span id="__span-1-23">    <span class="k">assert</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;api_choice&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;rock&quot;</span><span class="p">,</span> <span class="s2">&quot;paper&quot;</span><span class="p">,</span> <span class="s2">&quot;scissors&quot;</span><span class="p">]</span>
</span><span id="__span-1-24">    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;user_wins&quot;</span><span class="p">],</span> <span class="nb">bool</span><span class="p">)</span>
</span></code></pre></div>
<p>This test verifies several integration points:</p>
<ol>
<li>FastAPI correctly routes the <code>POST</code> request to the <code>/play</code> endpoint</li>
<li>The endpoint successfully deserializes JSON into our <code>GamePlay</code> model</li>
<li>The dependency injection system provides a <code>GameService</code> instance</li>
<li>The service processes the game and returns a valid result</li>
<li>FastAPI successfully serializes the <code>GameResult</code> back to JSON</li>
</ol>
<p>Notice something this test does not prove: the logic of who wins. This illustrates one of the key benefits and downsides of an integration test versus a unit test: the benefit is you have confidence everything comes together from request-to-response in one test. The downside is it would be very cumbersome to try and fully test logic in this way. Sure, you could write a loop that plays the game enough times and re-encode the winning logic to test a winner, but that's thinking about an integration test at the wrong level of abstraction. That style of test is more suited for a unit test, which we will explore shortly.</p>
<h2 id="unit-testing">Unit Testing</h2>
<p>Let's dive into unit testing! While integration tests give us confidence that all the pieces work together, unit tests help us verify that individual components work correctly in isolation. This granular approach makes it easier to pinpoint issues when tests fail and often leads to better designed components.</p>
<p>Typically, you will write <em>unit tests</em> <strong>before</strong> writing integration tests, but since we will introduce some new techniques for <em>isolating behavior</em> in unit tests, we wanted to start with the bigger picture and then zoom in to emphasize the contrasts before getting into the details.</p>
<h3 id="unit-testing-the-game-service">Unit Testing the Game Service</h3>
<p>Let's start by testing the core game logic in our <code>GameService</code> class. Since this service needs to make random choices, we'll use Python's <code>unittest.mock.patch</code> to temporarily replace the random choice behavior during our tests and control it ourselves:</p>
<div class="language-python highlight"><span class="filename">test_services.py</span><pre><span></span><code><span id="__span-2-1"><span class="kn">from</span><span class="w"> </span><span class="nn">unittest.mock</span><span class="w"> </span><span class="kn">import</span> <span class="n">MagicMock</span>
</span><span id="__span-2-2"><span class="kn">from</span><span class="w"> </span><span class="nn">services</span><span class="w"> </span><span class="kn">import</span> <span class="n">GameService</span>
</span><span id="__span-2-3"><span class="kn">from</span><span class="w"> </span><span class="nn">models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Choice</span><span class="p">,</span> <span class="n">GamePlay</span><span class="p">,</span> <span class="n">GameResult</span>
</span><span id="__span-2-4"><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">UTC</span>
</span><span id="__span-2-5">
</span><span id="__span-2-6">
</span><span id="__span-2-7"><span class="k">def</span><span class="w"> </span><span class="nf">create_mock_game_service</span><span class="p">(</span><span class="n">choice_to_return</span><span class="p">:</span> <span class="n">Choice</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">GameService</span><span class="p">:</span>
</span><span id="__span-2-8"><span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a GameService with a mocked _random_choice method&quot;&quot;&quot;</span>
</span><span id="__span-2-9">    <span class="n">service</span> <span class="o">=</span> <span class="n">GameService</span><span class="p">()</span>
</span><span id="__span-2-10">    <span class="n">service</span><span class="o">.</span><span class="n">_random_choice</span> <span class="o">=</span> <span class="n">MagicMock</span><span class="p">(</span><span class="n">return_value</span><span class="o">=</span><span class="n">choice_to_return</span><span class="p">)</span>
</span><span id="__span-2-11">    <span class="k">return</span> <span class="n">service</span>
</span><span id="__span-2-12">
</span><span id="__span-2-13">
</span><span id="__span-2-14"><span class="k">def</span><span class="w"> </span><span class="nf">test_game_service_rock_beats_scissors</span><span class="p">():</span>
</span><span id="__span-2-15">    <span class="c1"># Create a service that will return scissors</span>
</span><span id="__span-2-16">    <span class="n">service</span> <span class="o">=</span> <span class="n">create_mock_game_service</span><span class="p">(</span><span class="n">Choice</span><span class="o">.</span><span class="n">scissors</span><span class="p">)</span>
</span><span id="__span-2-17">    <span class="n">result</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">GamePlay</span><span class="p">(</span><span class="n">user_choice</span><span class="o">=</span><span class="n">Choice</span><span class="o">.</span><span class="n">rock</span><span class="p">))</span>
</span><span id="__span-2-18">
</span><span id="__span-2-19">    <span class="k">assert</span> <span class="n">result</span><span class="o">.</span><span class="n">user_choice</span> <span class="o">==</span> <span class="n">Choice</span><span class="o">.</span><span class="n">rock</span>
</span><span id="__span-2-20">    <span class="k">assert</span> <span class="n">result</span><span class="o">.</span><span class="n">api_choice</span> <span class="o">==</span> <span class="n">Choice</span><span class="o">.</span><span class="n">scissors</span>
</span><span id="__span-2-21">    <span class="k">assert</span> <span class="n">result</span><span class="o">.</span><span class="n">user_wins</span> <span class="ow">is</span> <span class="kc">True</span>
</span><span id="__span-2-22">    <span class="n">service</span><span class="o">.</span><span class="n">_random_choice</span><span class="o">.</span><span class="n">assert_called_once</span><span class="p">()</span>
</span><span id="__span-2-23">
</span><span id="__span-2-24">
</span><span id="__span-2-25"><span class="k">def</span><span class="w"> </span><span class="nf">test_game_service_scissors_loses_to_rock</span><span class="p">():</span>
</span><span id="__span-2-26">    <span class="n">service</span> <span class="o">=</span> <span class="n">create_mock_game_service</span><span class="p">(</span><span class="n">Choice</span><span class="o">.</span><span class="n">rock</span><span class="p">)</span>
</span><span id="__span-2-27">    <span class="n">result</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">GamePlay</span><span class="p">(</span><span class="n">user_choice</span><span class="o">=</span><span class="n">Choice</span><span class="o">.</span><span class="n">scissors</span><span class="p">))</span>
</span><span id="__span-2-28">
</span><span id="__span-2-29">    <span class="k">assert</span> <span class="n">result</span><span class="o">.</span><span class="n">user_choice</span> <span class="o">==</span> <span class="n">Choice</span><span class="o">.</span><span class="n">scissors</span>
</span><span id="__span-2-30">    <span class="k">assert</span> <span class="n">result</span><span class="o">.</span><span class="n">api_choice</span> <span class="o">==</span> <span class="n">Choice</span><span class="o">.</span><span class="n">rock</span>
</span><span id="__span-2-31">    <span class="k">assert</span> <span class="n">result</span><span class="o">.</span><span class="n">user_wins</span> <span class="ow">is</span> <span class="kc">False</span>
</span><span id="__span-2-32">    <span class="n">service</span><span class="o">.</span><span class="n">_random_choice</span><span class="o">.</span><span class="n">assert_called_once</span><span class="p">()</span>
</span><span id="__span-2-33">
</span><span id="__span-2-34">
</span><span id="__span-2-35"><span class="k">def</span><span class="w"> </span><span class="nf">test_game_service_draw</span><span class="p">():</span>
</span><span id="__span-2-36">    <span class="n">service</span> <span class="o">=</span> <span class="n">create_mock_game_service</span><span class="p">(</span><span class="n">Choice</span><span class="o">.</span><span class="n">paper</span><span class="p">)</span>
</span><span id="__span-2-37">    <span class="n">result</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">GamePlay</span><span class="p">(</span><span class="n">user_choice</span><span class="o">=</span><span class="n">Choice</span><span class="o">.</span><span class="n">paper</span><span class="p">))</span>
</span><span id="__span-2-38">
</span><span id="__span-2-39">    <span class="k">assert</span> <span class="n">result</span><span class="o">.</span><span class="n">user_choice</span> <span class="o">==</span> <span class="n">Choice</span><span class="o">.</span><span class="n">paper</span>
</span><span id="__span-2-40">    <span class="k">assert</span> <span class="n">result</span><span class="o">.</span><span class="n">api_choice</span> <span class="o">==</span> <span class="n">Choice</span><span class="o">.</span><span class="n">paper</span>
</span><span id="__span-2-41">    <span class="k">assert</span> <span class="n">result</span><span class="o">.</span><span class="n">user_wins</span> <span class="ow">is</span> <span class="kc">False</span>  <span class="c1"># Draws count as API wins</span>
</span><span id="__span-2-42">    <span class="n">service</span><span class="o">.</span><span class="n">_random_choice</span><span class="o">.</span><span class="n">assert_called_once</span><span class="p">()</span>
</span><span id="__span-2-43">
</span><span id="__span-2-44">
</span><span id="__span-2-45"><span class="k">def</span><span class="w"> </span><span class="nf">test_game_service_all_combinations</span><span class="p">():</span>
</span><span id="__span-2-46"><span class="w">    </span><span class="sd">&quot;&quot;&quot;Test all possible game combinations systematically&quot;&quot;&quot;</span>
</span><span id="__span-2-47">    <span class="c1"># Define all possible combinations and expected results</span>
</span><span id="__span-2-48">    <span class="n">test_cases</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-2-49">        <span class="p">(</span><span class="n">Choice</span><span class="o">.</span><span class="n">rock</span><span class="p">,</span> <span class="n">Choice</span><span class="o">.</span><span class="n">scissors</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>  <span class="c1"># Rock beats scissors</span>
</span><span id="__span-2-50">        <span class="p">(</span><span class="n">Choice</span><span class="o">.</span><span class="n">rock</span><span class="p">,</span> <span class="n">Choice</span><span class="o">.</span><span class="n">paper</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>  <span class="c1"># Rock loses to paper</span>
</span><span id="__span-2-51">        <span class="p">(</span><span class="n">Choice</span><span class="o">.</span><span class="n">rock</span><span class="p">,</span> <span class="n">Choice</span><span class="o">.</span><span class="n">rock</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>  <span class="c1"># Rock ties rock (API wins)</span>
</span><span id="__span-2-52">        <span class="p">(</span><span class="n">Choice</span><span class="o">.</span><span class="n">paper</span><span class="p">,</span> <span class="n">Choice</span><span class="o">.</span><span class="n">rock</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>  <span class="c1"># Paper beats rock</span>
</span><span id="__span-2-53">        <span class="p">(</span><span class="n">Choice</span><span class="o">.</span><span class="n">paper</span><span class="p">,</span> <span class="n">Choice</span><span class="o">.</span><span class="n">scissors</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>  <span class="c1"># Paper loses to scissors</span>
</span><span id="__span-2-54">        <span class="p">(</span><span class="n">Choice</span><span class="o">.</span><span class="n">paper</span><span class="p">,</span> <span class="n">Choice</span><span class="o">.</span><span class="n">paper</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>  <span class="c1"># Paper ties paper (API wins)</span>
</span><span id="__span-2-55">        <span class="p">(</span><span class="n">Choice</span><span class="o">.</span><span class="n">scissors</span><span class="p">,</span> <span class="n">Choice</span><span class="o">.</span><span class="n">paper</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>  <span class="c1"># Scissors beats paper</span>
</span><span id="__span-2-56">        <span class="p">(</span><span class="n">Choice</span><span class="o">.</span><span class="n">scissors</span><span class="p">,</span> <span class="n">Choice</span><span class="o">.</span><span class="n">rock</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>  <span class="c1"># Scissors loses to rock</span>
</span><span id="__span-2-57">        <span class="p">(</span><span class="n">Choice</span><span class="o">.</span><span class="n">scissors</span><span class="p">,</span> <span class="n">Choice</span><span class="o">.</span><span class="n">scissors</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>  <span class="c1"># Scissors ties scissors (API wins)</span>
</span><span id="__span-2-58">    <span class="p">]</span>
</span><span id="__span-2-59">
</span><span id="__span-2-60">    <span class="k">for</span> <span class="n">user_choice</span><span class="p">,</span> <span class="n">api_choice</span><span class="p">,</span> <span class="n">expected_win</span> <span class="ow">in</span> <span class="n">test_cases</span><span class="p">:</span>
</span><span id="__span-2-61">        <span class="c1"># Create a service that will return the API choice we want to test</span>
</span><span id="__span-2-62">        <span class="n">service</span> <span class="o">=</span> <span class="n">create_mock_game_service</span><span class="p">(</span><span class="n">api_choice</span><span class="p">)</span>
</span><span id="__span-2-63">        <span class="n">result</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">GamePlay</span><span class="p">(</span><span class="n">user_choice</span><span class="o">=</span><span class="n">user_choice</span><span class="p">))</span>
</span><span id="__span-2-64">
</span><span id="__span-2-65">        <span class="k">assert</span> <span class="n">result</span><span class="o">.</span><span class="n">user_choice</span> <span class="o">==</span> <span class="n">user_choice</span>
</span><span id="__span-2-66">        <span class="k">assert</span> <span class="n">result</span><span class="o">.</span><span class="n">api_choice</span> <span class="o">==</span> <span class="n">api_choice</span>
</span><span id="__span-2-67">        <span class="k">assert</span> <span class="n">result</span><span class="o">.</span><span class="n">user_wins</span> <span class="o">==</span> <span class="n">expected_win</span><span class="p">,</span> <span class="p">(</span>
</span><span id="__span-2-68">            <span class="sa">f</span><span class="s2">&quot;Failed when user played </span><span class="si">{</span><span class="n">user_choice</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> &quot;</span>
</span><span id="__span-2-69">            <span class="sa">f</span><span class="s2">&quot;against API&#39;s </span><span class="si">{</span><span class="n">api_choice</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-2-70">        <span class="p">)</span>
</span><span id="__span-2-71">        <span class="n">service</span><span class="o">.</span><span class="n">_random_choice</span><span class="o">.</span><span class="n">assert_called_once</span><span class="p">()</span>
</span></code></pre></div>
<h4 id="understanding-patchobject">Understanding patch.object</h4>
<p>The <code>patch.object</code> decorator/context manager is a powerful feature in Python's <code>unittest.mock</code> library that temporarily replaces attributes or methods during testing. Let's break down what's happening:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><span class="k">with</span> <span class="n">patch</span><span class="o">.</span><span class="n">object</span><span class="p">(</span><span class="n">GameService</span><span class="p">,</span> <span class="s1">&#39;_random_choice&#39;</span><span class="p">,</span> <span class="n">return_value</span><span class="o">=</span><span class="n">Choice</span><span class="o">.</span><span class="n">scissors</span><span class="p">):</span>
</span><span id="__span-3-2">    <span class="n">service</span> <span class="o">=</span> <span class="n">GameService</span><span class="p">()</span>
</span><span id="__span-3-3">    <span class="c1"># ... test code ...</span>
</span></code></pre></div>
<p>This code:</p>
<ol>
<li>Temporarily replaces, or <strong>patches</strong>, the <code>_random_choice</code> method on the <code>GameService</code> class</li>
<li>Any instance of <code>GameService</code> created within the <code>with</code> block will use the patched version</li>
<li>The patched version always returns <code>Choice.scissors</code> (or whatever we specify as the <code>return_value</code> of the method)</li>
<li>When the <code>with</code> block ends, the original method is restored</li>
</ol>
<p>Patching is particularly useful when testing code that has external dependencies or non-deterministic behavior (like randomization). By patching, we make the behavior predictable during testing while preserving the actual implementation for normal use.</p>
<h3 id="unit-testing-route-functions">Unit Testing Route Functions</h3>
<p>Now let's look at unit testing the FastAPI route functions. These tests focus on the route function itself, isolated from both HTTP concerns and service implementation. We will isolate the routing concerns by calling the functions directly and manually controlling the arguments (FastAPI routes are just plain-old functions, after all!). Additionally, we will isolate the service by <em>mocking it</em>, a technique best seen and explained with some real usage:</p>
<div class="language-python highlight"><span class="filename">test_main_unit.py</span><pre><span></span><code><span id="__span-4-1">    <span class="c1"># Verify how the service was used</span>
</span><span id="__span-4-2">    <span class="n">mock_service</span><span class="o">.</span><span class="n">play</span><span class="o">.</span><span class="n">assert_called_once_with</span><span class="p">(</span><span class="n">GamePlay</span><span class="p">(</span><span class="n">user_choice</span><span class="o">=</span><span class="n">Choice</span><span class="o">.</span><span class="n">rock</span><span class="p">))</span>
</span></code></pre></div>
<h4 id="understanding-magicmock">Understanding MagicMock</h4>
<p>MagicMock is a powerful class in Python's <code>unittest.mock</code> library that creates objects that can pretend to be anything. Here's what makes it special:</p>
<ol>
<li>
<p><strong>Automatic Method Creation</strong>: MagicMock automatically creates mock methods and attributes as you try to use them. When we access <code>mock_service.play</code>, MagicMock creates a play attribute that is itself a MagicMock. In doing so, as shown, you can also control the value <em>returned</em> by calling this mock method.</p>
</li>
<li>
<p><strong>Call Tracking</strong>: MagicMock records all calls made to it, including:</p>
<ul>
<li>How many times it was called</li>
<li>What arguments were used</li>
<li>In what order calls occurred</li>
</ul>
</li>
<li>
<p><strong>Verification Methods</strong>: MagicMock provides methods to verify how it was used:</p>
<ul>
<li><code>assert_called()</code> - Was it called at all?</li>
<li><code>assert_called_once()</code> - Was it called exactly once?</li>
<li><code>assert_called_with(args)</code> - Was it called with specific arguments?</li>
<li><code>assert_called_once_with(args)</code> - Was it called once with specific arguments?</li>
</ul>
</li>
</ol>
<p>In our route test, <code>mock_service.play.assert_called_once_with(GamePlay(user_choice=Choice.rock))</code> proves that:</p>
<ol>
<li>The route called the service's play method exactly once</li>
<li>It passed exactly the Choice.rock argument</li>
<li>It didn't call any other methods on the service</li>
</ol>
<p>This verification is valuable because it proves that:</p>
<ul>
<li>The route correctly forwards the user's choice to the service</li>
<li>It doesn't call the service multiple times</li>
<li>It doesn't modify the choice before passing it to the service</li>
<li>It doesn't call any other service methods it shouldn't</li>
</ul>
<p>Admittedly, given how simple this route function is, unit testing it can feel a bit silly. Indeed, it's far more code to isolate the unit test than the actual implementation itself. The earlier tests proved more valuable things to our system. So, why write unit tests for such simple functions? If you had the integration test we started with, there probably isn't a valid reason to in this case! We didn't really prove anything useful other than more tightly encoding dependencies which already exist in our system. In large enough teams, though, policies of "every public function or method must be tested" is an axiom that helps prevent code bases from slipping into the dangerous territory of being untested.</p>
<p>So, when does unit testing a route function make more sense? Primarily when there is actual logic in the route function. This is common when you are returning a non-200 status code and helps verify expected responses. Or perhaps there's some additional logic the route is doing to pre-process inputs. For our purposes, if a route function just returns a method call and you already have an integration test: don't worry about the unit test.</p>
<h3 id="different-approaches-for-different-needs">Different Approaches for Different Needs</h3>
<p>Notice we're using different mocking approaches for different parts of our system:</p>
<ol>
<li>
<p>We used <code>patch</code> to:</p>
<ul>
<li>Override some internal method (such as randomization)</li>
<li>The patched method is an implementation detail</li>
<li>We want to isolate the service's game logic</li>
</ul>
</li>
<li>
<p>We used <code>MagicMock</code> to:</p>
<ul>
<li>Verify interaction patterns between route and service</li>
<li>Isolate the route from the service that is normally dependency injected</li>
<li>We care about the interface of <code>GameService</code> in the unit tests for the route, not implementation. The implementation is tested in <code>GameService</code> unit tests.</li>
</ul>
</li>
</ol>
<p>This illustrates an important testing principle: choose your testing tools based on what you're trying to prove about your code. Sometimes you need to control behavior (patch), sometimes you need to verify interactions (MagicMock), and sometimes you might need both, which MagicMock can also do.</p>
<h2 id="the-limitations-of-tests">The Limitations of Tests</h2>
<p>While testing is essential for software quality, we must understand its fundamental limitations. Tests provide confidence, not certainty, and even the most comprehensive test suite cannot guarantee bug-free software. The sheer number of possible input combinations, environmental factors, and user behaviors makes complete testing impossible. Tests themselves can be flawed, suffering from false positives that pass when they should fail, or false negatives that fail when they should pass. Perhaps most insidiously, tests might continue passing while no longer validating what they were intended to check due to changing assumptions about system behavior or business rules.</p>
<h2 id="test-driven-development-and-practical-strategies">Test-Driven Development and Practical Strategies</h2>
<p>Test-Driven Development (TDD) offers a structured approach to address many testing challenges through its Red-Green-Refactor cycle:</p>
<ol>
<li>Red: Write a failing test that defines the desired behavior</li>
<li>Green: Write just enough code to make the test pass</li>
<li>Refactor: Improve the code while maintaining passing tests</li>
</ol>
<p>This methodology helps prevent over-engineering while ensuring code meets requirements. Different projects demand different testing approaches - critical systems require comprehensive testing at all levels, while rapid prototypes might focus only on key functionality.</p>
<p>When working with AI tools for testing, treat them as helpful starting points rather than complete solutions. While AI can quickly generate test cases and identify edge cases, human oversight remains crucial for ensuring tests are meaningful and align with project requirements.</p>
<h2 id="the-economics-and-culture-of-testing">The Economics and Culture of Testing</h2>
<p>Testing represents a significant investment in time, technical infrastructure, and knowledge. Not every piece of code needs the same level of testing, and not every test provides equal value. Success requires building a culture that values testing while remaining pragmatic about testing efforts.</p>
<h2 id="summary">Summary</h2>
<p>Testing is a fundamental skill. If you invest time and energy into learning how to test well it will pay dividends in your career. Throughout this chapter, we've explored how different types of tests—from unit tests that verify individual components to integration tests that ensure systems work together—serve distinct but complementary purposes. We've seen how testing transforms development itself: with a strong test suite, you can refactor confidently, catch regressions early, and build more reliable software. More importantly, we've learned that effective testing isn't about achieving perfect coverage or following rigid rules—it's about writing intentional tests that prove something meaningful about your code. As you apply these testing practices in your work, you'll find yourself writing more maintainable code, catching issues earlier, and delivering features with greater confidence.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../1-dependency-injection/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 1. Introduction to Dependency Injection in FastAPI">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                1. Introduction to Dependency Injection in FastAPI
              </div>
            </div>
          </a>
        
        
          
          <a href="../3-ci-cd/" class="md-footer__link md-footer__link--next" aria-label="Next: 3. Introduction to CI/CD">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                3. Introduction to CI/CD
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<div class="md-copyright">
  <div class="md-copyright__highlight">
  
    Copyright &copy; 2026 Kris Jordan
  
  </div>
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["search.suggest", "search.highlight", "navigation.sections", "navigation.tracking", "navigation.instant", "navigation.instant.progress", "navigation.tabs", "navigation.indexes", "navigation.footer", "content.code.select", "content.code.annotate", "content.code.copy", "navigation.top", "toc.follow"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="../../../javascripts/accessibility-fixes.js"></script>
      
        <script src="../../../javascripts/timeline-due-highlights.js"></script>
      
        <script src="../../../javascripts/timeline-filters.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>